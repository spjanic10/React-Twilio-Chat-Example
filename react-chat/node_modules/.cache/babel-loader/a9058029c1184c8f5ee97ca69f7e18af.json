{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseAttributes = exports.parseTime = exports.parseToNumber = exports.UriBuilder = exports.deepClone = exports.isDeepEqual = void 0;\n\nvar JsonDiff = require(\"rfc6902\");\n/**\n * Checks if objects are equal\n */\n\n\nfunction isDeepEqual(o1, o2) {\n  return JsonDiff.createPatch(o1, o2).length === 0;\n}\n\nexports.isDeepEqual = isDeepEqual;\n/**\n * Deep-clone an object. Note that this does not work on object containing\n * functions.\n * @param {object} obj - the object to deep-clone\n * @returns {object}\n */\n\nfunction deepClone(obj) {\n  return JSON.parse((0, _stringify2.default)(obj));\n}\n\nexports.deepClone = deepClone;\n\nfunction parseToNumber(value) {\n  if (typeof value !== 'undefined' && !isNaN(Number(value))) {\n    return Number(value);\n  }\n\n  return null;\n}\n\nexports.parseToNumber = parseToNumber; // timeString cannot be typed `string` because in member.ts\n// call to parseTime(data.lastConsumptionTimestamp) uses number not a string for timestamp.\n\nfunction parseTime(timeString) {\n  try {\n    return new Date(timeString);\n  } catch (e) {\n    return null;\n  }\n}\n\nexports.parseTime = parseTime;\n\nfunction parseAttributes(rawAttributes, warningMessage, log) {\n  var attributes = {};\n\n  if (rawAttributes) {\n    try {\n      attributes = JSON.parse(rawAttributes);\n    } catch (e) {\n      log.warn(warningMessage, e);\n    }\n  }\n\n  return attributes;\n}\n\nexports.parseAttributes = parseAttributes;\n/**\n * Construct URI with query parameters\n */\n\nvar UriBuilder = function () {\n  function UriBuilder(base) {\n    (0, _classCallCheck3.default)(this, UriBuilder);\n    this.base = base.replace(/\\/$/, '');\n    this.args = [];\n    this.paths = [];\n  }\n\n  (0, _createClass3.default)(UriBuilder, [{\n    key: \"arg\",\n    value: function arg(name, value) {\n      if (typeof value !== 'undefined') {\n        this.args.push(encodeURIComponent(name) + '=' + encodeURIComponent(value));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"path\",\n    value: function path(name) {\n      this.paths.push(encodeURIComponent(name));\n      return this;\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      var result = this.base;\n\n      if (this.paths.length) {\n        result += '/' + this.paths.join('/');\n      }\n\n      if (this.args.length) {\n        result += '?' + this.args.join('&');\n      }\n\n      return result;\n    }\n  }]);\n  return UriBuilder;\n}();\n\nexports.UriBuilder = UriBuilder;","map":{"version":3,"sources":["/Users/stefanpjanic/Desktop/mango_dev/node_modules/@twilio/conversations/browser/util/index.js"],"names":["_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_stringify","_stringify2","obj","__esModule","default","Object","defineProperty","exports","value","parseAttributes","parseTime","parseToNumber","UriBuilder","deepClone","isDeepEqual","JsonDiff","o1","o2","createPatch","length","JSON","parse","isNaN","Number","timeString","Date","e","rawAttributes","warningMessage","log","attributes","warn","base","replace","args","paths","key","arg","name","push","encodeURIComponent","path","build","result","join"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseAttributes = exports.parseTime = exports.parseToNumber = exports.UriBuilder = exports.deepClone = exports.isDeepEqual = void 0;\nvar JsonDiff = require(\"rfc6902\");\n/**\n * Checks if objects are equal\n */\nfunction isDeepEqual(o1, o2) {\n    return JsonDiff.createPatch(o1, o2).length === 0;\n}\nexports.isDeepEqual = isDeepEqual;\n/**\n * Deep-clone an object. Note that this does not work on object containing\n * functions.\n * @param {object} obj - the object to deep-clone\n * @returns {object}\n */\nfunction deepClone(obj) {\n    return JSON.parse((0, _stringify2.default)(obj));\n}\nexports.deepClone = deepClone;\nfunction parseToNumber(value) {\n    if (typeof value !== 'undefined' && !isNaN(Number(value))) {\n        return Number(value);\n    }\n    return null;\n}\nexports.parseToNumber = parseToNumber;\n// timeString cannot be typed `string` because in member.ts\n// call to parseTime(data.lastConsumptionTimestamp) uses number not a string for timestamp.\nfunction parseTime(timeString) {\n    try {\n        return new Date(timeString);\n    } catch (e) {\n        return null;\n    }\n}\nexports.parseTime = parseTime;\nfunction parseAttributes(rawAttributes, warningMessage, log) {\n    var attributes = {};\n    if (rawAttributes) {\n        try {\n            attributes = JSON.parse(rawAttributes);\n        } catch (e) {\n            log.warn(warningMessage, e);\n        }\n    }\n    return attributes;\n}\nexports.parseAttributes = parseAttributes;\n/**\n * Construct URI with query parameters\n */\n\nvar UriBuilder = function () {\n    function UriBuilder(base) {\n        (0, _classCallCheck3.default)(this, UriBuilder);\n\n        this.base = base.replace(/\\/$/, '');\n        this.args = [];\n        this.paths = [];\n    }\n\n    (0, _createClass3.default)(UriBuilder, [{\n        key: \"arg\",\n        value: function arg(name, value) {\n            if (typeof value !== 'undefined') {\n                this.args.push(encodeURIComponent(name) + '=' + encodeURIComponent(value));\n            }\n            return this;\n        }\n    }, {\n        key: \"path\",\n        value: function path(name) {\n            this.paths.push(encodeURIComponent(name));\n            return this;\n        }\n    }, {\n        key: \"build\",\n        value: function build() {\n            var result = this.base;\n            if (this.paths.length) {\n                result += '/' + this.paths.join('/');\n            }\n            if (this.args.length) {\n                result += '?' + this.args.join('&');\n            }\n            return result;\n        }\n    }]);\n    return UriBuilder;\n}();\n\nexports.UriBuilder = UriBuilder;"]},"metadata":{},"sourceType":"script"}